@page "/employee/create/"
@inject NavigationManager navigationManager
@inject IEmployeeRepository employeeRepository
@attribute [Authorize(Roles = "Administrator")]

<h3>Create Employee</h3>




<EmployeeForm employee="employee" OnValidSubmit="Create" />

@code {

    private Employee employee = new Employee();

    private async Task Create()
    {
        try
        {
            await employeeRepository.CreateEmployee(employee);
            navigationManager.NavigateTo("/employees/");
        }
        catch (Exception ex)
        {
            Console.WriteLine("Error create employee " + ex);
        }


    }
}
